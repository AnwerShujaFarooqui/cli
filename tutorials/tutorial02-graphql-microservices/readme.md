# Micro Services Directives for your Multi-Tenant Serverless API CDK TypeScript Project!

## Getting Started

Create a `user.graphql` schema file in your app directory and generate an AWS CDK project using the panacloud cli.

    mkdir my_user_api

    cd my_user_api

    panacloud init

Answer the following question on the command prompt:

* GraphQL Schema File Path? ../user.graphql

* API Name? MyUserAPI

* Select Database? Neptune (Graph) 

* Select Query Language? Gremlin

Now the MyUserAPI code is generated and available in the `my_user_api` directory.

# Short Summary (You must read) 
#### Mirco services directives can be used in the panacloud cli. By using these directives you can assemble all the related lambdas in one folder. Generally with panaclound cli you editable lambdas lies in editable_src/lambda_stubs folder but if you use Micro services Directives then inside lambda_stubs new folders will be created each named on the name you gave in the Micro Servies Directive. And all the related lambda lies in those folders.

#### Caution!
If you make a change to the graphql schema in `editable_src/graphql/schema/schema.graphql`(add more micro services directives) and then execute the command `panacloud update`, editable_src/lambda_stubs folder will be updated. Changes will be according to users update in schema if user added lambdas in existing micro servie directive then lambda will be added in that directory inside editable_src/lambda_stubs, if user removes some queries/mutation form existing micro servie directives then lambda will also be removed from that directory inside editable_src/lambda_stubs and adding and remove new micro service directive is viceversa.  

## Understand the Project Generated by the CLI

This is a project for Multi-Tenant Serverless API development with [AWS Cloud Development Kit (CDK)](https://docs.aws.amazon.com/cdk/latest/guide/home.html) using TypeScript. It comes with all the necessary code to develop and deploy a Serverless GraphQL API in the AWS Cloud.  This includes the provisioning of cloud infrastructure in code and Serverless stubs where developers may easily include their business logic. The project also provides pre-built mock lambda functions and unit tests to test your deployed APIs. 

The project code may be conceptually divided into two parts:

1. The code that is generated by the Panacloud CLI, and will continuously be updated by the CLI as your API schema evolves. If the developer edits and updated this code, it will be overwritten next time the schema is updated and Panacloud CLI update command is given.
2. The code that the developer edits and updates and contains the business logic for the APIs. This code is contained in the `editable_src/` directory. 

It is highly recommended that the developer only edit and update the code contained in the `editable_src/` directory because the rest of the code is generated and updated by the Panacloud CLI.