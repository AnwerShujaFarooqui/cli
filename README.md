[![oclif](https://img.shields.io/badge/cli-oclif-brightgreen.svg)](https://oclif.io)
[![Version](https://img.shields.io/npm/v/@panacloud/cli.svg)](https://www.npmjs.org/package/@panacloud/cli)
[![Downloads/week](https://img.shields.io/npm/dw/@panacloud/cli.svg)](https://www.npmjs.org/package/@panacloud/cli)
[![License](https://img.shields.io/npm/l/@panacloud/cli.svg)](https://github.com/panacloud/cli/blob/master/package.json)

# Panacloud Command Line Interface

Panacloud is an unified API development, fundraising, and ownership economy platform. It provides services, libraries, tools, and frameworks for developing totally open multi-tenant, serverless cloud services with integrated multi-tenant billing, crowdfunding, and ownership economy constructs.  This allows developers to concentrate solely on creating specialised code related to their domain, leaving the rest to the Panacloud platform and services. This model has the potential to disrupt both the software and venture investment industries.

Panacloud CLI accelerates the building of multi-tenant serverless SaaS APIs. The CLI applies the design-first paradigm and implements the best practices for designing GraphQL APIs using public cloud serverless and infrastructure as code technologies. The CLI takes a [GraphQL API](https://graphql.org/) [schema](https://graphql.org/learn/schema/) that has been augmented with Panacloud directives and creates [infrastructure as code (IaC)](https://acloudguru.com/blog/engineering/cloudformation-terraform-or-cdk-guide-to-iac-on-aws), mock lambdas, tests, and scaffolding for genuine lambdas that include business logic and database requests. It makes use of [AWS CDK](https://aws.amazon.com/cdk/) for IaC. It now only supports AWS, TypeScript and GraphQL, but future versions will also support Azure and Google Cloud, OpenAPI and other languages as well.

![CLI Flow](cli.png "CLI Diagram")


The generated serverless SaaS API project supports multi-tenant usage based billing and monetering and is closely integrated with the [Panacloud portal](https://www.panacloud.org). The developer just needs to write the specific code required by the Multi-Tenant SaaS project. This greatly reduces custom developer coding and increases speed to market. GraphQL and Open REST APIs can be built by using the Panacloud CLI. The APIs may use Graph or Relational databases, etc.

We have also published detailed [Tutorials](https://github.com/panacloud-modern-global-apps/full-stack-serverless-cdk) to help you to learn AWS CDK. 

Before getting started you need to install the following packages and libraries:

1. Install [Node.js](https://nodejs.org/en/)
2. Install [AWS CLI Version 2.x](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html)
3. Install [AWS CDK Version 2](https://docs.aws.amazon.com/cdk/latest/guide/work-with-cdk-v2.html)
4. Install Globally [TypeScript](https://www.typescriptlang.org/download)

Before starting your API project learn to develop APIs using this [bootcamp](https://github.com/panacloud/bootcamp-2021#part-3-introduction-to-serverless-and-cloud-computing-using-cdk) and [learning API repo](https://github.com/panacloud-modern-global-apps/api-design-prototype-testing)

The first step in developing a GraphQL [schema](https://dgraph.io/blog/post/designing-graphql-schemas/) for your APIs. Once you have built your GraphQL schema and enhanced it with Panacloud directives, we will now use this CLI to develop the serverless cloud APIs.

The code generated by the CLI will consist of two parts:

1. Code that will be managed and updated by the CLI. As we add and update the API schema, we will update the generated code using the CLI.
2. Code that is editable by the API developer and is contained in the editiable_src directory. This code code contains the buisiness logic and is edited and updated by the developer.

Note: The developer can also modify and add the IaC CDK code by using [CDK aspects](https://docs.aws.amazon.com/cdk/latest/guide/aspects.html).

Now Globally Install Panacloud CLI:

npm install @panacloud/cli -g 

<!-- toc -->
* [Panacloud Command Line Interface](#panacloud-command-line-interface)
* [Usage](#usage)
* [Commands](#commands)
<!-- tocstop -->

# Usage

<!-- usage -->
```sh-session
$ npm install -g @panacloud/cli
$ panacloud COMMAND
running command...
$ panacloud (-v|--version|version)
@panacloud/cli/0.0.3 win32-x64 node-v14.16.1
$ panacloud --help [COMMAND]
USAGE
  $ panacloud COMMAND
...
```
<!-- usagestop -->

# Commands

<!-- commands -->
* [`panacloud help [COMMAND]`](#panacloud-help-command)
* [`panacloud init`](#panacloud-init)
* [`panacloud update`](#panacloud-update)
* [`panacloud merge`](#panacloud-merge)

## `panacloud help [COMMAND]`

display help for panacloud

```
USAGE
  $ panacloud help [COMMAND]

ARGUMENTS
  COMMAND  command to show help for

OPTIONS
  --all  see all commands in CLI
```

_See code: [@oclif/plugin-help](https://github.com/oclif/plugin-help/blob/v3.2.3/src/commands/help.ts)_

## `panacloud init`

Generates CDK code, mock lambdas, and actual lambdas based on the given schema

```
USAGE
  $ panacloud init

OPTIONS
  -h, --help  show CLI help
```

_See code: [src/commands/init.ts](https://github.com/panacloud/cli/commands/init.ts)_
<!-- commandsstop -->

## `panacloud update`

Update CDK code and mock lambdas based on the updated schema. This command doesnot overwrite code in the editiable_src directory.

```
USAGE
  $ panacloud update

OPTIONS
  -h, --help  show CLI help
```

_See code: [src/commands/update.ts](https://github.com/panacloud/cli/src/commands/update.ts)_
<!-- commandsstop -->

## `panacloud merge`

Merges GraphQL schema files.

```
USAGE
  $ panacloud merge

OPTIONS
  -h, --help  show CLI help
```

_See code: [src/commands/update.ts](https://github.com/panacloud/cli/src/commands/merge.ts)_
<!-- commandsstop -->



